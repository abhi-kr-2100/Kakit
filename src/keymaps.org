#+TITLE: Keymaps
#+AUTHOR: Abhishek Kumar
#+EMAIL: abhi.kr.2100@gmail.com
#+LANGUAGE: en
#+PROPERTY: header-args :results silent

Kakoune, being a modal text editor, has a different keymap for each
mode.

Kakit's per-state keymaps provide the same functionality.

* Normal State Keymap

#+begin_src emacs-lisp :tangle kakit/kakit-keymaps-normal.el :mkdirp yes
; -*- lexical-binding: t -*-

(require 'kakit-commands-state-switching)
(require 'kakit-commands-movement)
(require 'kakit-commands-text-manipulation)

(defvar kakit-normal-state-keymap
  (let ((keymap (make-sparse-keymap)))
    (define-key keymap (kbd "h") 'backward-char)
    (define-key keymap (kbd "j") 'next-line)
    (define-key keymap (kbd "k") 'previous-line)
    (define-key keymap (kbd "l") 'forward-char)
    (define-key keymap (kbd "w") 'kakit-forward-word-select)
    (define-key keymap (kbd "b") 'kakit-backward-word-select)
    (define-key keymap (kbd "e") 'kakit-word-end-select)
    (define-key keymap (kbd "x") 'kakit-select-line-and-next)
    (define-key keymap (kbd "d") 'kakit-kill-region-or-char)
    (define-key keymap (kbd "c") 'kakit-change)
    (define-key keymap (kbd "p") 'yank)
    (define-key keymap (kbd "u") 'undo-only)
    (define-key keymap (kbd "U") 'undo-redo)
    (define-key keymap (kbd "a") 'kakit-insert-after-char)
    (define-key keymap (kbd "A") 'kakit-insert-at-line-end)
    (define-key keymap (kbd "I") 'kakit-insert-at-line-beginning)
    (define-key keymap (kbd "o") 'kakit-open-newline-below)
    (define-key keymap (kbd "O") 'kakit-open-newline-above)
    (define-key keymap (kbd "J") 'kakit-join-lines)
    (define-key keymap (kbd "i") 'kakit-switch-to-insert-mode-local)
    (define-key keymap (kbd "r") 'kakit-switch-to-command-pending-mode-for-replace)
    (define-key keymap (kbd "g") 'kakit-switch-to-command-pending-mode-for-goto)
    keymap)
  "Custom keymaps for Kakit's Normal state.")

(provide 'kakit-keymaps-normal)
#+end_src

* Insert State Keymap

#+begin_src emacs-lisp :tangle kakit/kakit-keymaps-insert.el :mkdirp yes
; -*- lexical-binding: t -*-

(defvar kakit-insert-state-keymap
  (let ((keymap (make-sparse-keymap)))
    (define-key keymap (kbd "<escape>") 'kakit-switch-to-normal-mode-local)
    keymap)
  "Custom keymaps for Kakit's Insert state.")

(provide 'kakit-keymaps-insert)
#+end_src

* Command Pending State Keymap

#+begin_src emacs-lisp :tangle kakit/kakit-keymaps-command-pending.el :mkdirp yes
; -*- lexical-binding: t -*-

(require 'kakit-commands-text-manipulation)

(defvar kakit-command-pending-state-keymap
  (let ((keymap (make-sparse-keymap)))
    (define-key keymap (kbd "<escape>") 'kakit-switch-to-normal-mode-local)
    (define-key keymap [t] 'kakit-command-pending-act)
    keymap)
  "Custom keymaps for Kakit's Command Pending state.")

(provide 'kakit-keymaps-command-pending)
#+end_src
